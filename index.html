<!DOCTYPE html>
<html lang="ko" data-theme="heritage">
<head>
  <!-- 문자 인코딩 및 뷰포트 설정 -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>교환독서 – 홈</title>
  
  <!-- Google Fonts: Nanum Myeongjo (나눔명조) 로딩 최적화 -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Nanum+Myeongjo:wght@400;700;800&family=Grandiflora+One&display=swap" rel="stylesheet">

  <!-- 외부 스타일시트 (루트에서 참조) -->
  <link rel="stylesheet" href="css/style.css?v=54">
  
  <!-- 인트로 배경 이미지 preload -->
  <link rel="preload" as="image" href="images/five.jpg">
  
  <style>
    /* 이미지 로딩 전까지 인트로 숨김 */
    #intro {
      opacity: 0;
      transition: opacity 0.3s ease-in;
    }
    #intro.loaded {
      opacity: 1;
    }
  </style>
</head>
<body>
  <!-- ============================================
       INTRO OVERLAY
       페이지 로딩 시 4.5초간 표시되는 인트로 화면
       CSS 애니메이션으로 자동 페이드아웃
  ============================================= -->
  <section id="intro" class="page-intro page-intro--overlay splash-hero intro-hero vintage-shelves" aria-label="페이지 인트로">
    <h1 class="intro-title draw-title">교환독서</h1>
    <p class="intro-subtitle">내 책 줄게, 네 책 다오</p>
    <p class="intro-sub">Share books, exchange stories, connect hearts</p>
  </section>

  <!-- ============================================
       HEADER
       상단 고정 헤더: 로고 + 네비게이션
  ============================================= -->
  <header class="site-header">
    <a class="logo" href="index.html">교환독서</a>
    <nav aria-label="주요">
      <ul class="gnb">
        <li><a aria-current="page" href="index.html?from=internal">홈</a></li>
        <li><a href="pages/schedule.html">일정</a></li>
        <li><a href="pages/library.html">도서관</a></li>
          <li><a href="pages/community.html">커뮤니티</a></li>
          <li><a href="pages/myspace.html">내 공간</a></li>
      </ul>
    </nav>
  </header>

  <!-- ============================================
       MAIN CONTENT
       메인 콘텐츠 영역
  ============================================= -->
  <main id="main">
    
    <!-- Hero Section: 전체 화면 히어로 섹션 -->
    <section class="page-intro splash-hero intro-hero vintage-shelves" aria-label="메인 히어로">
      <h1 class="intro-title">교환독서, 우리끼리 돌려읽기</h1>
      <p class="intro-sub">부담은 낮게, 재미는 높게</p>
      
      <!-- CTA 버튼들 -->
      <div class="intro-actions">
        <a class="btn" href="pages/schedule.html">일정 보기</a>
        <a class="btn ghost" href="pages/library.html">도서 둘러보기</a>
      </div>
      
      <!-- 스크롤 힌트 (장식용) -->
      <div class="scroll-hint" aria-hidden="true">아래로 스크롤</div>
    </section>

    <!-- About Section: 교환독서 소개 -->
    <section aria-labelledby="about" class="about-section fade-in-on-scroll" style="padding-top: 8rem; padding-bottom: 7rem;">
      <h2 id="about">교환독서란?</h2>
      <div class="about-content">
        <!-- 소개 문구: 캐주얼하고 친근한 톤 -->
        <p>교환독서는 서로의 책을 나누며 새로운 이야기를 만나는 독서 모임입니다.</p>
        <p>한 달에 한 번, 각자가 읽은 책을 다른 사람의 책과 교환하며,<br>평소 선택하지 않았을 책들을 만나고 다양한 관점을 경험합니다.</p>
        <p>책을 교환하는 것은 단순히 책을 빌려주는 것이 아니라,<br>나의 생각과 감상을 누군가에게 전하고 그들의 이야기를 받아오는 특별한 경험입니다.</p>
        <p>서로의 취향과 생각을 알아가는 시간입니다. 원하는 책을 골라 읽고, 책을 읽으면서 코멘트를 남깁니다.</p>
        <p>다음 사람에게 패스하고, 한 바퀴가 돌면 한 회차가 종료되고, 함께 모여 이야기를 나눕니다.</p>
        <p>혼자 고르기 어렵다면 서로의 선택을 빌려 보세요.</p>
      </div>
    </section>

    <!-- How Section: 진행 방법 5단계 -->
    <section aria-labelledby="how" class="how-section fade-in-on-scroll" style="margin-top: 3rem; padding-bottom: 5rem; padding-top: 3rem;">
      <h2 id="how">진행 방법</h2>
      <div class="how-content">
        <div class="how-step">
          <span class="step-number">1</span>
          <p>각자 읽고 싶은 책을 골라 가져옵니다</p>
        </div>
        <div class="how-step">
          <span class="step-number">2</span>
          <p>1~2달 동안 주어진 책을 읽고 간단한 코멘트를 남깁니다</p>
        </div>
        <div class="how-step">
          <span class="step-number">3</span>
          <p>다음 달이 되면 책을 다음 사람에게 전달합니다</p>
        </div>
        <div class="how-step">
          <span class="step-number">4</span>
          <p>모든 책을 돌려 읽으면 한 회차가 마무리됩니다</p>
        </div>
        <div class="how-step">
          <span class="step-number">5</span>
          <p>함께 모여 책에 대한 생각을 나누고 토의합니다</p>
        </div>
      </div>
    </section>

    <!-- Team Section: 진행 인원 소개 -->
    <section aria-labelledby="team" class="team-section fade-in-on-scroll" style="margin-bottom: 10rem; margin-top: 7rem;">
      <h2 id="team">진행 인원</h2>
      <div class="team-grid">
        <!-- 시현 카드 -->
        <div class="card team-card flip-card" data-person="시현">
          <div class="flip-card-inner">
            <div class="flip-card-front">
              <img src="images/sh.jpg" alt="시현 사진" class="team-photo" loading="lazy" />
            </div>
            <div class="flip-card-back">
              <div class="team-avatar">시현</div>
              <p class="team-bio">SF와 판타지, 인문학, 인문서 등 가리지 않고 흥미가 있다면 다 좋아해요.</p>
            </div>
          </div>
        </div>
        <!-- 태이 카드 -->
        <div class="card team-card flip-card" data-person="태이">
          <div class="flip-card-inner">
            <div class="flip-card-front">
              <img src="images/te.jpg" alt="태이 사진" class="team-photo" loading="lazy" />
            </div>
            <div class="flip-card-back">
              <div class="team-avatar">태이</div>
              <p class="team-bio">미스터리하고 박진감 넘치는 전개를 좋아해요.</p>
            </div>
          </div>
        </div>
        <!-- 희수 카드 -->
        <div class="card team-card flip-card" data-person="희수">
          <div class="flip-card-inner">
            <div class="flip-card-front">
              <img src="images/hs.jpg" alt="희수 사진" class="team-photo" loading="lazy" />
            </div>
            <div class="flip-card-back">
              <div class="team-avatar">희수</div>
              <p class="team-bio">아름답게 엔딩을 맞이하는 것을 좋아해요. 아름다운 죽음만 있다면 장르는 상관 없답니다.</p>
            </div>
          </div>
        </div>
        <!-- 지원 카드 -->
        <div class="card team-card flip-card" data-person="지원">
          <div class="flip-card-inner">
            <div class="flip-card-front">
              <img src="images/jw.jpg" alt="지원 사진" class="team-photo" loading="lazy" />
            </div>
            <div class="flip-card-back">
              <div class="team-avatar">지원</div>
              <p class="team-bio">에세이를 좋아해요. 일상의 소소한 이야기와 따뜻한 감성이 담긴 글을 읽는 것을 즐깁니다.</p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- About Site Section: 웹사이트 제작 배경 -->
    <section aria-labelledby="about-site" class="about-site-section fade-in-on-scroll">
      <h2 id="about-site">이 사이트를 만든 이유</h2>
      <div class="about-content">
        <p>교환독서를 하면서 누가 어떤 책을 읽고 있는지, 언제 교환해야 하는지 헷갈릴 때가 많았어요.</p>
        <p>단톡방에 흩어진 일정과 책 정보를 한곳에 모아두면 편하겠다는 생각에 이 웹사이트를 만들었습니다.</p>
        <p>우리만의 작은 도서관처럼, 기록하고 공유하는 공간이 되었으면 좋겠어요. 📚</p>
      </div>
    </section>

      
      <!-- Page Navigation: 책 페이지 스타일 네비게이션 -->
      <nav class="page-nav" aria-label="페이지 네비게이션">
        <a href="index.html?from=internal" class="page-link current" aria-current="page">
          <span class="page-number">1</span>
        </a>
        <a href="pages/schedule.html" class="page-link">
          <span class="page-number">2</span>
        </a>
        <a href="pages/library.html" class="page-link">
          <span class="page-number">3</span>
        </a>
        <a href="pages/community.html" class="page-link">
          <span class="page-number">4</span>
        </a>
        <a href="pages/myspace.html" class="page-link">
          <span class="page-number">5</span>
        </a>
      </nav>

  </main>

  <!-- ============================================
       FOOTER
       하단 푸터
  ============================================= -->
  <footer class="site-footer">
    <div class="footer-content">
      <div class="footer-links">
        <a href="pages/about.html">About</a>
        <span class="footer-divider">·</span>
        <a href="https://github.com/sihyeon25/Book-exchange" target="_blank" rel="noopener noreferrer">GitHub</a>
        <span class="footer-divider">·</span>
        <a href="mailto:your-email@example.com">Contact</a>
      </div>
      <small>© 2024 교환독서. All rights reserved.</small>
    </div>
  </footer>
  <script>
    // 배경 이미지 로딩 후 인트로 표시
    (() => {
      const intro = document.getElementById('intro');
      if(!intro) return;
      
      const params = new URLSearchParams(window.location.search);
      const fromInternal = params.get('from') === 'internal';
      
      if(fromInternal) {
        intro.style.display = 'none';
        window.history.replaceState({}, '', window.location.pathname);
      } else {
        // 배경 이미지 preload
        const img = new Image();
        img.onload = () => {
          intro.classList.add('loaded');
        };
        img.src = 'images/five.jpg';
      }
    })();
  </script>
  <script>
    // 헤더 색상 전환: 히어로가 보일 때는 투명/흰 글자, 지나가면 솔리드/어두운 글자
    (() => {
      const header = document.querySelector('.site-header');
      const hero = document.querySelector('main .intro-hero');
      if(!header || !hero) return;
      const io = new IntersectionObserver(([entry]) => {
        if(entry.isIntersecting){
          header.classList.remove('is-solid');
        } else {
          header.classList.add('is-solid');
        }
      }, {root: null, threshold: 0, rootMargin: '-64px 0px 0px 0px'});
      io.observe(hero);
    })();
  </script>
  <script>
    // 인트로(오버레이) 배경만 랜덤 적용 (모바일은 고정 유지)
    // 같은 이미지가 연속으로 나오지 않도록 직전 선택값을 세션에 저장
    (() => {
      const isDesktop = window.matchMedia('(min-width: 769px)').matches;
      if(!isDesktop) return; // 모바일은 CSS의 three.jpg 유지

      // images 폴더 내 준비된 후보 (three.jpg, index 전용 five.jpg 제외)
      const images = ['six.JPG','one.jpg','sh.jpg','hs.jpg','jw.jpg','te.jpg'];
      if(!images.length) return;

      const last = sessionStorage.getItem('intro_last_bg');
      let pick = images[Math.floor(Math.random() * images.length)];
      if(images.length > 1 && last && pick === last){
        // 바로 다음 후보로 스킵하여 연속 중복 방지
        const idx = (images.indexOf(pick) + 1) % images.length;
        pick = images[idx];
      }
      sessionStorage.setItem('intro_last_bg', pick);

      const intro = document.querySelector('#intro.page-intro--overlay.intro-hero.vintage-shelves');
      if(!intro) return;

      const gradient = 'linear-gradient(180deg, rgba(30,20,15,.50) 0%, rgba(30,20,15,.65) 50%, rgba(30,20,15,.78) 100%)';
      const fallback = 'color-mix(in oklab, var(--accent) 30%, var(--paper))';
      intro.style.background = `${gradient}, url("images/${pick}") center/cover no-repeat, ${fallback}`;
    })();
  </script>
  <script>
    // 팀 카드 스크롤 페이드인 애니메이션 (순차적 등장)
    (() => {
      const cards = document.querySelectorAll('.team-card');
      if(!cards.length) return;
      
      const observer = new IntersectionObserver((entries) => {
        entries.forEach((entry, idx) => {
          if(entry.isIntersecting){
            // 각 카드마다 0.1초씩 지연시켜 순차적으로 나타남
            const delay = Array.from(cards).indexOf(entry.target) * 100;
            setTimeout(() => {
              entry.target.classList.add('fade-in');
            }, delay);
            observer.unobserve(entry.target);
          }
        });
      }, {
        root: null,
        threshold: 0.1,
        rootMargin: '0px 0px -50px 0px'
      });
      
      cards.forEach(card => observer.observe(card));
    })();
  </script>
  
  <!-- 스크롤 애니메이션 -->
  <script src="js/scroll-animations.js"></script>
  <!-- 페이지 전환 효과 -->
  <script src="js/page-transitions.js"></script>
</body>
</html>
