<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>êµí™˜ë…ì„œ â€” ì±… ë„˜ê¹€ ëœë”© + Intro</title>
  <style>
    :root{
      --bg:#FAF3E0;
      --paper:#FDF6E3;
      --spine-dark:#5a4636;
      --spine:#8d6e5f;
      --ink:#2B1B17;
      --brand:#A23E48;
      --accent:#D4A373;
    }

    body{
      margin:0; height:100vh;
      display:flex; flex-direction:column; justify-content:center; align-items:center;
      background:var(--bg); color:var(--ink);
      font-family:'Noto Sans KR',system-ui,-apple-system,Segoe UI,Roboto,sans-serif;
      overflow:hidden; /* ì¸íŠ¸ë¡œ ì¤‘ ìŠ¤í¬ë¡¤ ë°©ì§€ */
    }

    /* =============== [ Intro Overlay ] =============== */
    .intro-overlay{
      position:fixed; inset:0; z-index:999;
      display:flex; align-items:center; justify-content:center; flex-direction:column;
      background:radial-gradient(1200px 600px at 50% 40%, rgba(0,0,0,.05), transparent 60%), var(--bg);
      transition:opacity .6s ease;
    }
    .intro-overlay.hide{ opacity:0; pointer-events:none; }
    .intro-box{
      padding:2rem 2.2rem; border-radius:14px;
      background:rgba(253,246,227,.8);
      box-shadow:0 8px 30px rgba(0,0,0,.15);
      border:1px solid #e6dfd6; text-align:center;
    }
    .intro-title{
      font-weight:800; font-size:1.6rem; line-height:1.3;
      color:var(--brand); margin:0 0 .75rem 0;
      white-space:nowrap; overflow:hidden; border-right:2px solid var(--brand);
      width:0; /* íƒ€ìê¸° ì‹œì‘ì  */
      animation:typing 1.8s steps(22,end) .2s forwards, caret .8s step-end infinite .2s;
    }
    .intro-sub{
      margin:.25rem 0 0 0; color:#6b6157; font-size:1rem; opacity:0;
      animation:fadeIn .6s ease 2.1s forwards;
    }
    .intro-tip{
      margin-top:1rem; font-size:.9rem; color:#7a7268; opacity:0;
      animation:fadeIn .6s ease 2.35s forwards;
    }
    @keyframes typing{ to{ width:16.5ch } } /* ê¸€ììˆ˜ì— ë§ê²Œ ì¡°ì • */
    @keyframes caret{ 50%{ border-color:transparent } }
    @keyframes fadeIn{ to{ opacity:1 } }

    /* ëª¨ì…˜ ë¯¼ê° ì‚¬ìš©ì */
    @media (prefers-reduced-motion:reduce){
      .intro-title{ animation:none; width:auto; border-right:0 }
      .intro-sub,.intro-tip{ animation:none; opacity:1 }
      .intro-overlay{ transition:none }
    }

    /* ì¸íŠ¸ë¡œ ì¢…ë£Œ í›„ ì»¨í…ì¸  ë“±ì¥ */
    #bookWrap{ opacity:0; transform:translateY(16px); transition:opacity .6s ease, transform .6s ease }
    .ready #bookWrap{ opacity:1; transform:none }
    .hint{ opacity:0; transition:opacity .6s ease .15s }
    .ready .hint{ opacity:1 }

    /* =============== [ Book ] =============== */
    .book-wrap{
  position:relative; display:flex; align-items:center; justify-content:center; gap:24px;
  width: 100vw;
    }
    .book{
  position:relative; width:360px; height:460px;
  perspective:1500px; transition:transform 1s cubic-bezier(.77,0,.18,1);
}
.book.spine-centered {
  margin-left: -22px;
}
    
    .book::before{
  content:""; position:absolute; left:-22px; top:0; bottom:0; width:22px; border-radius:6px 0 0 6px;
  background:linear-gradient(to right, var(--spine-dark), var(--spine));
  box-shadow:inset -2px 0 6px rgba(0,0,0,.35);
    }
    .page{
      position:absolute; inset:0;
      transform-style:preserve-3d; transform-origin:left;
      transition:transform 1s ease; cursor:pointer; will-change:transform;
    }
    .page:nth-child(1){ z-index:7 }
    .page:nth-child(2){ z-index:6 }
    .page:nth-child(3){ z-index:5 }
    .page:nth-child(4){ z-index:4 }
    .page:nth-child(5){ z-index:3 }

    .face{
      position:absolute; inset:0;
      border:1px solid #cfcac0; border-radius:8px; backface-visibility:hidden;
      display:flex; align-items:center; justify-content:center; text-align:center;
      padding:1.25rem; font-weight:700; font-size:1.2rem; color:var(--ink);
    }
    .front,.back{ background:var(--paper) }
    .front{ box-shadow:2px 2px 8px rgba(0,0,0,.15) }
    .back{ transform:rotateY(180deg); box-shadow:inset -2px 0 6px rgba(0,0,0,.18) }

    /* í‘œì§€/ë’·í‘œì§€ */
    .cover .front{ background:var(--brand); color:#fff; font-size:1.5rem }
    .back-cover .back{ background:var(--brand); color:#fff }

    /* ë„˜ê¸´ í˜ì´ì§€ê°€ ì˜¤ë¥¸ìª½ì— ì‚´ì§ ìŒ“ì´ê²Œ */
    .page.flipped{ transform:rotateY(-180deg) translateX(6px); pointer-events:none }

    /* ë¶ë§ˆí¬ ë„¤ë¹„ */
    .bookmark-nav{
      margin-top:22px; display:flex; gap:.8rem; flex-wrap:wrap; justify-content:center;
    }
    .bookmark-nav a{
      display:inline-block; padding:.6rem 1rem;
      background:var(--brand); color:#fff; text-decoration:none;
      border-radius:0 0 12px 12px; font-weight:700;
      box-shadow:0 3px 10px rgba(0,0,0,.15);
      transition:transform .15s ease, background .2s ease;
    }
    .bookmark-nav a:hover{ transform:translateY(-2px); background:var(--accent) }
  </style>
</head>
<body>

  <!-- Intro Overlay -->
  <div class="intro-overlay" id="intro">
    <div class="intro-box">
      <h1 class="intro-title">êµí™˜ë…ì„œ â€” í•¨ê»˜ ë„˜ê¸°ëŠ” í˜ì´ì§€</h1>
      <p class="intro-sub">ê°ì ê³ ë¥¸ ì±…ì„, í•œ ë‹¬ì”© ëŒë ¤ ì½ê³  ìƒ‰ íœìœ¼ë¡œ ë‚¨ê¸°ëŠ” ì½”ë©˜íŠ¸</p>
      <p class="intro-tip">ì ì‹œ í›„ ì±…ì´ ë‚˜íƒ€ë‚©ë‹ˆë‹¤ Â· í´ë¦­í•´ì„œ ë„˜ê²¨ë³´ì„¸ìš”</p>
    </div>
  </div>

  <!-- Book -->
  <div class="book-wrap" id="bookWrap" aria-label="ì±… ë„˜ê¹€ ë°ëª¨">
    <div class="book" id="book">
      <!-- í‘œì§€ -->
      <div class="page cover">
        <div class="face front">ğŸ“• êµí™˜ë…ì„œ</div>
        <div class="face back"></div>
      </div>
      <!-- ì†ì§€ë“¤ -->
      <div class="page">
        <div class="face front">âœ¨ í•¨ê»˜ ì½ëŠ” ì¦ê±°ì›€</div>
        <div class="face back"></div>
      </div>
      <div class="page">
        <div class="face front">ğŸ–Šï¸ ìƒ‰ íœ ì½”ë©˜íŠ¸</div>
        <div class="face back"></div>
      </div>
      <div class="page">
        <div class="face front">ğŸ“š ì±…ì„ ë‚˜ëˆ„ëŠ” ì‹œê°„</div>
        <div class="face back"></div>
      </div>
      <!-- ë’·í‘œì§€ -->
      <div class="page back-cover">
        <div class="face front"></div>
        <div class="face back">ğŸ“• ë</div>
      </div>
    </div>
  </div>

  <p class="hint">ì±…ì„ í´ë¦­í•´ ë„˜ê²¨ë³´ì„¸ìš” Â· ë‹¤ ë„˜ê¸°ë©´ ë‹¤ì‹œ ì²˜ìŒìœ¼ë¡œ ëŒì•„ê°‘ë‹ˆë‹¤</p>

  <nav class="bookmark-nav" aria-label="ë°”ë¡œê°€ê¸°">
    <a href="intro.html">ì†Œê°œ</a>
    <a href="books.html">ì±… ëª©ë¡</a>
    <a href="calendar.html">ìº˜ë¦°ë”</a>
    <a href="game.html">ê²Œì„</a>
    <a href="faq.html">FAQ</a>
  </nav>

  <script>
    // Intro ì œì–´
    const intro = document.getElementById('intro');
    const reduceMotion = window.matchMedia('(prefers-reduced-motion: reduce)').matches;

    function startSite(){
      intro.classList.add('hide');
      document.body.classList.add('ready'); // ì±…/íŒíŠ¸ ë“±ì¥
      // ì¸íŠ¸ë¡œ ì‚¬ë¼ì§„ ë’¤ ìŠ¤í¬ë¡¤ í—ˆìš©í•˜ê³  ì‹¶ë‹¤ë©´ ë‹¤ìŒ ì¤„ ì£¼ì„ í•´ì œ:
      // document.body.style.overflow = 'auto';
    }

    // ìë™ ì¢…ë£Œ(íƒ€ìê¸° + ì„œë¸Œ ë¬¸êµ¬ ë…¸ì¶œ í›„)
    if (!reduceMotion) {
      setTimeout(startSite, 3600); // ì²´ë¥˜ ì‹œê°„ 2600 â†’ 3600msë¡œ ì¦ê°€
    } else {
      // ëª¨ì…˜ ë¯¼ê° ì‚¬ìš©ìëŠ” ì¦‰ì‹œ ì‹œì‘
      startSite();
    }
    // í´ë¦­ìœ¼ë¡œë„ ë°”ë¡œ ì‹œì‘ ê°€ëŠ¥
    intro.addEventListener('click', startSite);

    // Book ë„˜ê¹€
    const book = document.getElementById('book');
    const pages = Array.from(book.querySelectorAll('.page'));
    let current = 0;
    let locking = false;
    const DURATION = 1000;

    let closed = true;
    function resetBook() {
      pages.forEach(p => p.classList.remove('flipped'));
      current = 0;
      book.classList.remove('spine-centered');
      closed = true;
    }

    book.addEventListener('click', () => {
      if (locking) return;
      locking = true;

      if (closed) {
        closed = false;
        // í‘œì§€ë¡œ ì´ë™
        book.classList.remove('spine-centered');
        return setTimeout(() => locking = false, 300);
      }

      if (current < pages.length) {
        pages[current].classList.add('flipped');
        current++;
        // ì²« ì¥ ë„˜ê¸¸ ë•Œ í™”ë©´ ê¸°ì¤€ ì¤‘ì•™ ì •ë ¬(ìŠ¤íŒŒì¸)
        if (current === 1) {
          book.classList.add('spine-centered');
        }
        setTimeout(() => locking = false, DURATION);
      } else {
        resetBook();
        setTimeout(() => locking = false, 300);
      }
    });
  </script>
</body>
</html>
